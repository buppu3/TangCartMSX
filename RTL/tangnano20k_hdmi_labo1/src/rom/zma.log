Z80 Macro Assembler ZMA v1.0.18
=====================================================
Programmed by t.hara

  DEFS is DEFINE STRING (default).
  OUTPUT TYPE: BINARY

<< code >>
LINE# |OFFSET|ADDR|MNEMONIC
======+======+====+==================================
     7|      |    |REG_KEY_STATE := 0x10
      |      |    |  Global integer symbol [REG_KEY_STATE] = 16 (0x10)
------+------+----+----------------------------------
     9|      |    |REG_PALETTE_ADDR := 0x20
      |      |    |  Global integer symbol [REG_PALETTE_ADDR] = 32 (0x20)
------+------+----+----------------------------------
    10|      |    |REG_PALETTE_COLOR := 0x21
      |      |    |  Global integer symbol [REG_PALETTE_COLOR] = 33 (0x21)
------+------+----+----------------------------------
    11|      |    |REG_VRAM_ADDR := 0x22
      |      |    |  Global integer symbol [REG_VRAM_ADDR] = 34 (0x22)
------+------+----+----------------------------------
    12|      |    |REG_VRAM_DATA := 0x23
      |      |    |  Global integer symbol [REG_VRAM_DATA] = 35 (0x23)
------+------+----+----------------------------------
    14|      |    |ORG 0x0000
------+------+----+----------------------------------
    16|      |    |DI
      |      |    |  Z80:5cyc R800:2cyc
      |000000|0000|  F3
------+------+----+----------------------------------
    17|      |    |LD SP, 0
      |      |    |  Z80:11cyc R800:3cyc
      |000001|0001|  31 00 00
------+------+----+----------------------------------
    19|      |    |XOR A, A
      |      |    |  Z80:5cyc R800:1cyc
      |000004|0004|  AF
------+------+----+----------------------------------
    20|      |    |OUT [ REG_PALETTE_ADDR ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000005|0005|  D3 20
------+------+----+----------------------------------
    21|      |    |PALETTE_LOOP :
      |      |    |  label [PALETTE_LOOP] address: 0x000007
------+------+----+----------------------------------
    22|      |    |PUSH AF
      |      |    |  Z80:12cyc R800:6cyc
      |000007|0007|  F5
------+------+----+----------------------------------
    23|      |    |OUT [ REG_PALETTE_COLOR ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000008|0008|  D3 21
------+------+----+----------------------------------
    24|      |    |SRL A
      |      |    |  Z80:10cyc R800:2cyc
      |00000A|000A|  CB 3F
------+------+----+----------------------------------
    25|      |    |OUT [ REG_PALETTE_COLOR ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00000C|000C|  D3 21
------+------+----+----------------------------------
    26|      |    |SRL A
      |      |    |  Z80:10cyc R800:2cyc
      |00000E|000E|  CB 3F
------+------+----+----------------------------------
    27|      |    |OUT [ REG_PALETTE_COLOR ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000010|0010|  D3 21
------+------+----+----------------------------------
    28|      |    |POP AF
      |      |    |  Z80:11cyc R800:5cyc
      |000012|0012|  F1
------+------+----+----------------------------------
    29|      |    |INC A
      |      |    |  Z80:5cyc R800:1cyc
      |000013|0013|  3C
------+------+----+----------------------------------
    30|      |    |JR NZ, PALETTE_LOOP
      |      |    |  Z80:13cyc/8cyc R800:3cyc/2cyc
      |000014|0014|  20 F1
------+------+----+----------------------------------
    32|      |    |LD B, 0
      |      |    |  Z80:8cyc R800:2cyc
      |000016|0016|  06 00
------+------+----+----------------------------------
    33|      |    |MAIN_LOOP :
      |      |    |  label [MAIN_LOOP] address: 0x000018
------+------+----+----------------------------------
    34|      |    |LD C, 0
      |      |    |  Z80:8cyc R800:2cyc
      |000018|0018|  0E 00
------+------+----+----------------------------------
    35|      |    |LD DE, 0
      |      |    |  Z80:11cyc R800:3cyc
      |00001A|001A|  11 00 00
------+------+----+----------------------------------
    36|      |    |LD HL, 360
      |      |    |  Z80:11cyc R800:3cyc
      |00001D|001D|  21 68 01
------+------+----+----------------------------------
    37|      |    |Y_LOOP :
      |      |    |  label [Y_LOOP] address: 0x000020
------+------+----+----------------------------------
    38|      |    |XOR A, A
      |      |    |  Z80:5cyc R800:1cyc
      |000020|0020|  AF
------+------+----+----------------------------------
    39|      |    |OUT [ REG_VRAM_ADDR ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000021|0021|  D3 22
------+------+----+----------------------------------
    40|      |    |LD A, E
      |      |    |  Z80:5cyc R800:2cyc
      |000023|0023|  7B
------+------+----+----------------------------------
    41|      |    |OUT [ REG_VRAM_ADDR ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000024|0024|  D3 22
------+------+----+----------------------------------
    42|      |    |LD A, D
      |      |    |  Z80:5cyc R800:2cyc
      |000026|0026|  7A
------+------+----+----------------------------------
    43|      |    |OUT [ REG_VRAM_ADDR ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000027|0027|  D3 22
------+------+----+----------------------------------
    45|      |    |PUSH HL
      |      |    |  Z80:12cyc R800:6cyc
      |000029|0029|  E5
------+------+----+----------------------------------
    46|      |    |LD HL, 640
      |      |    |  Z80:11cyc R800:3cyc
      |00002A|002A|  21 80 02
------+------+----+----------------------------------
    47|      |    |PUSH BC
      |      |    |  Z80:12cyc R800:6cyc
      |00002D|002D|  C5
------+------+----+----------------------------------
    48|      |    |X_LOOP :
      |      |    |  label [X_LOOP] address: 0x00002e
------+------+----+----------------------------------
    49|      |    |LD A, B
      |      |    |  Z80:5cyc R800:2cyc
      |00002E|002E|  78
------+------+----+----------------------------------
    50|      |    |ADD A, C
      |      |    |  Z80:5cyc R800:1cyc
      |00002F|002F|  81
------+------+----+----------------------------------
    51|      |    |INC B
      |      |    |  Z80:5cyc R800:1cyc
      |000030|0030|  04
------+------+----+----------------------------------
    52|      |    |OUT [ REG_VRAM_DATA ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000031|0031|  D3 23
------+------+----+----------------------------------
    53|      |    |DEC HL
      |      |    |  Z80:7cyc R800:1cyc
      |000033|0033|  2B
------+------+----+----------------------------------
    54|      |    |LD A, L
      |      |    |  Z80:5cyc R800:2cyc
      |000034|0034|  7D
------+------+----+----------------------------------
    55|      |    |OR A, H
      |      |    |  Z80:5cyc R800:1cyc
      |000035|0035|  B4
------+------+----+----------------------------------
    56|      |    |JR NZ, X_LOOP
      |      |    |  Z80:13cyc/8cyc R800:3cyc/2cyc
      |000036|0036|  20 F6
------+------+----+----------------------------------
    58|      |    |LD HL, 1024 >> 8
      |      |    |  Z80:11cyc R800:3cyc
      |000038|0038|  21 04 00
------+------+----+----------------------------------
    59|      |    |ADD HL, DE
      |      |    |  Z80:12cyc R800:1cyc
      |00003B|003B|  19
------+------+----+----------------------------------
    60|      |    |EX DE, HL
      |      |    |  Z80:5cyc R800:1cyc
      |00003C|003C|  EB
------+------+----+----------------------------------
    62|      |    |POP BC
      |      |    |  Z80:11cyc R800:5cyc
      |00003D|003D|  C1
------+------+----+----------------------------------
    63|      |    |POP HL
      |      |    |  Z80:11cyc R800:5cyc
      |00003E|003E|  E1
------+------+----+----------------------------------
    64|      |    |DEC HL
      |      |    |  Z80:7cyc R800:1cyc
      |00003F|003F|  2B
------+------+----+----------------------------------
    65|      |    |INC C
      |      |    |  Z80:5cyc R800:1cyc
      |000040|0040|  0C
------+------+----+----------------------------------
    66|      |    |LD A, L
      |      |    |  Z80:5cyc R800:2cyc
      |000041|0041|  7D
------+------+----+----------------------------------
    67|      |    |OR A, H
      |      |    |  Z80:5cyc R800:1cyc
      |000042|0042|  B4
------+------+----+----------------------------------
    68|      |    |JR NZ, Y_LOOP
      |      |    |  Z80:13cyc/8cyc R800:3cyc/2cyc
      |000043|0043|  20 DB
------+------+----+----------------------------------
    70|      |    |INC B
      |      |    |  Z80:5cyc R800:1cyc
      |000045|0045|  04
------+------+----+----------------------------------
    71|      |    |INC B
      |      |    |  Z80:5cyc R800:1cyc
      |000046|0046|  04
------+------+----+----------------------------------
    72|      |    |JP MAIN_LOOP
      |      |    |  Z80:11cyc R800:5cyc
      |000047|0047|  C3 18 00
------+------+----+----------------------------------
   106|      |    |SCOPE GETKEY
      |      |    |  Enter scope: GETKEY:
------+------+----+----------------------------------
   107|      |    |GETKEY ::
      |      |    |  global label [GETKEY] address: 0x00004a
------+------+----+----------------------------------
   108|      |    |IN A, [ REG_KEY_STATE ]
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00004A|004A|  DB 10
------+------+----+----------------------------------
   109|      |    |RLCA
      |      |    |  Z80:5cyc R800:1cyc
      |00004C|004C|  07
------+------+----+----------------------------------
   110|      |    |RLCA
      |      |    |  Z80:5cyc R800:1cyc
      |00004D|004D|  07
------+------+----+----------------------------------
   111|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |00004E|004E|  C9
------+------+----+----------------------------------
   112|      |    |ENDSCOPE
      |      |    |  Exit scope: GETKEY:
------+------+----+----------------------------------
<< label >>
GETKEY .............. 74 ( 0x4a )
MAIN_LOOP ........... 24 ( 0x18 )
PALETTE_LOOP ........ 7 ( 0x7 )
REG_KEY_STATE ....... 16 ( 0x10 )
REG_PALETTE_ADDR .... 32 ( 0x20 )
REG_PALETTE_COLOR ... 33 ( 0x21 )
REG_VRAM_ADDR ....... 34 ( 0x22 )
REG_VRAM_DATA ....... 35 ( 0x23 )
X_LOOP .............. 46 ( 0x2e )
Y_LOOP .............. 32 ( 0x20 )
