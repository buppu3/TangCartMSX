Z80 Macro Assembler ZMA v1.0.18
=====================================================
Programmed by t.hara

  DEFS is DEFINE STRING (default).
  OUTPUT TYPE: BINARY

<< code >>
LINE# |OFFSET|ADDR|MNEMONIC
======+======+====+==================================
     7|      |    |ORG 0x100
------+------+----+----------------------------------
     9|      |    |VDP_PORT0 := 0x98
      |      |    |  Global integer symbol [VDP_PORT0] = 152 (0x98)
------+------+----+----------------------------------
    10|      |    |VDP_PORT1 := 0x99
      |      |    |  Global integer symbol [VDP_PORT1] = 153 (0x99)
------+------+----+----------------------------------
    11|      |    |VDP_PORT2 := 0x9A
      |      |    |  Global integer symbol [VDP_PORT2] = 154 (0x9a)
------+------+----+----------------------------------
    12|      |    |VDP_PORT3 := 0x9B
      |      |    |  Global integer symbol [VDP_PORT3] = 155 (0x9b)
------+------+----+----------------------------------
    13|      |    |_TERM0 := 0x00
      |      |    |  Global integer symbol [_TERM0] = 0 (0x0)
------+------+----+----------------------------------
    14|      |    |BDOS := 0x0005
      |      |    |  Global integer symbol [BDOS] = 5 (0x5)
------+------+----+----------------------------------
    17|      |    |START :
      |      |    |  label [START] address: 0x000100
------+------+----+----------------------------------
    18|      |    |DI
      |      |    |  Z80:5cyc R800:2cyc
      |000000|0100|  F3
------+------+----+----------------------------------
    19|      |    |CALL SCREEN5
      |      |    |  Z80:18cyc R800:5cyc
      |000001|0101|  CD 65 01
------+------+----+----------------------------------
    21|      |    |LD A, 2
      |      |    |  Z80:8cyc R800:2cyc
      |000004|0104|  3E 02
------+------+----+----------------------------------
    22|      |    |LD E, 14
      |      |    |  Z80:8cyc R800:2cyc
      |000006|0106|  1E 0E
------+------+----+----------------------------------
    23|      |    |CALL WRITE_CONTROL_REGISTER
      |      |    |  Z80:18cyc R800:5cyc
      |000008|0108|  CD 5B 01
------+------+----+----------------------------------
    25|      |    |XOR A, A
      |      |    |  Z80:5cyc R800:1cyc
      |00000B|010B|  AF
------+------+----+----------------------------------
    26|      |    |OUT [ VDP_PORT1 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00000C|010C|  D3 99
------+------+----+----------------------------------
    27|      |    |LD A, 0x40
      |      |    |  Z80:8cyc R800:2cyc
      |00000E|010E|  3E 40
------+------+----+----------------------------------
    28|      |    |OUT [ VDP_PORT1 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000010|0110|  D3 99
------+------+----+----------------------------------
    30|      |    |LD A, 0xFF
      |      |    |  Z80:8cyc R800:2cyc
      |000012|0112|  3E FF
------+------+----+----------------------------------
    31|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000014|0114|  D3 98
------+------+----+----------------------------------
    32|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000016|0116|  D3 98
------+------+----+----------------------------------
    33|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000018|0118|  D3 98
------+------+----+----------------------------------
    34|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00001A|011A|  D3 98
------+------+----+----------------------------------
    35|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00001C|011C|  D3 98
------+------+----+----------------------------------
    36|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00001E|011E|  D3 98
------+------+----+----------------------------------
    37|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000020|0120|  D3 98
------+------+----+----------------------------------
    38|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000022|0122|  D3 98
------+------+----+----------------------------------
    39|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000024|0124|  D3 98
------+------+----+----------------------------------
    40|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000026|0126|  D3 98
------+------+----+----------------------------------
    41|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000028|0128|  D3 98
------+------+----+----------------------------------
    42|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00002A|012A|  D3 98
------+------+----+----------------------------------
    43|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00002C|012C|  D3 98
------+------+----+----------------------------------
    44|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00002E|012E|  D3 98
------+------+----+----------------------------------
    45|      |    |LD A, 0xDD
      |      |    |  Z80:8cyc R800:2cyc
      |000030|0130|  3E DD
------+------+----+----------------------------------
    46|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000032|0132|  D3 98
------+------+----+----------------------------------
    47|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000034|0134|  D3 98
------+------+----+----------------------------------
    48|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000036|0136|  D3 98
------+------+----+----------------------------------
    49|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000038|0138|  D3 98
------+------+----+----------------------------------
    50|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00003A|013A|  D3 98
------+------+----+----------------------------------
    51|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00003C|013C|  D3 98
------+------+----+----------------------------------
    52|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00003E|013E|  D3 98
------+------+----+----------------------------------
    53|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000040|0140|  D3 98
------+------+----+----------------------------------
    54|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000042|0142|  D3 98
------+------+----+----------------------------------
    55|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000044|0144|  D3 98
------+------+----+----------------------------------
    56|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000046|0146|  D3 98
------+------+----+----------------------------------
    57|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000048|0148|  D3 98
------+------+----+----------------------------------
    58|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00004A|014A|  D3 98
------+------+----+----------------------------------
    59|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00004C|014C|  D3 98
------+------+----+----------------------------------
    60|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00004E|014E|  D3 98
------+------+----+----------------------------------
    61|      |    |OUT [ VDP_PORT0 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000050|0150|  D3 98
------+------+----+----------------------------------
    62|      |    |LOOP :
      |      |    |  label [LOOP] address: 0x000152
------+------+----+----------------------------------
    63|      |    |JP LOOP
      |      |    |  Z80:11cyc R800:5cyc
      |000052|0152|  C3 52 01
------+------+----+----------------------------------
    66|      |    |EI
      |      |    |  Z80:5cyc R800:1cyc
      |000055|0155|  FB
------+------+----+----------------------------------
    67|      |    |LD C, _TERM0
      |      |    |  Z80:8cyc R800:2cyc
      |000056|0156|  0E 00
------+------+----+----------------------------------
    68|      |    |JP BDOS
      |      |    |  Z80:11cyc R800:5cyc
      |000058|0158|  C3 05 00
------+------+----+----------------------------------
    70|      |    |SCOPE WRITE_CONTROL_REGISTER
      |      |    |  Enter scope: WRITE_CONTROL_REGISTER:
------+------+----+----------------------------------
    71|      |    |WRITE_CONTROL_REGISTER ::
      |      |    |  global label [WRITE_CONTROL_REGISTER] address: 0x00015b
------+------+----+----------------------------------
    72|      |    |OUT [ VDP_PORT1 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |00005B|015B|  D3 99
------+------+----+----------------------------------
    73|      |    |LD A, E
      |      |    |  Z80:5cyc R800:2cyc
      |00005D|015D|  7B
------+------+----+----------------------------------
    74|      |    |AND A, 0x3F
      |      |    |  Z80:8cyc R800:2cyc
      |00005E|015E|  E6 3F
------+------+----+----------------------------------
    75|      |    |OR A, 0x80
      |      |    |  Z80:8cyc R800:2cyc
      |000060|0160|  F6 80
------+------+----+----------------------------------
    76|      |    |OUT [ VDP_PORT1 ], A
      |      |    |  Z80:12cyc R800:10cyc/9cyc
      |000062|0162|  D3 99
------+------+----+----------------------------------
    77|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |000064|0164|  C9
------+------+----+----------------------------------
    78|      |    |ENDSCOPE
      |      |    |  Exit scope: WRITE_CONTROL_REGISTER:
------+------+----+----------------------------------
    91|      |    |SCOPE SCREEN5
      |      |    |  Enter scope: SCREEN5:
------+------+----+----------------------------------
    92|      |    |SCREEN5 ::
      |      |    |  global label [SCREEN5] address: 0x000165
------+------+----+----------------------------------
    94|      |    |LD A, 0x06
      |      |    |  Z80:8cyc R800:2cyc
      |000065|0165|  3E 06
------+------+----+----------------------------------
    95|      |    |LD E, 0
      |      |    |  Z80:8cyc R800:2cyc
      |000067|0167|  1E 00
------+------+----+----------------------------------
    96|      |    |CALL WRITE_CONTROL_REGISTER
      |      |    |  Z80:18cyc R800:5cyc
      |000069|0169|  CD 5B 01
------+------+----+----------------------------------
    98|      |    |LD A, 0x40
      |      |    |  Z80:8cyc R800:2cyc
      |00006C|016C|  3E 40
------+------+----+----------------------------------
    99|      |    |LD E, 1
      |      |    |  Z80:8cyc R800:2cyc
      |00006E|016E|  1E 01
------+------+----+----------------------------------
   100|      |    |CALL WRITE_CONTROL_REGISTER
      |      |    |  Z80:18cyc R800:5cyc
      |000070|0170|  CD 5B 01
------+------+----+----------------------------------
   102|      |    |LD A, 0x07
      |      |    |  Z80:8cyc R800:2cyc
      |000073|0173|  3E 07
------+------+----+----------------------------------
   103|      |    |LD E, 7
      |      |    |  Z80:8cyc R800:2cyc
      |000075|0175|  1E 07
------+------+----+----------------------------------
   104|      |    |CALL WRITE_CONTROL_REGISTER
      |      |    |  Z80:18cyc R800:5cyc
      |000077|0177|  CD 5B 01
------+------+----+----------------------------------
   106|      |    |LD A, 0x02
      |      |    |  Z80:8cyc R800:2cyc
      |00007A|017A|  3E 02
------+------+----+----------------------------------
   107|      |    |LD E, 8
      |      |    |  Z80:8cyc R800:2cyc
      |00007C|017C|  1E 08
------+------+----+----------------------------------
   108|      |    |CALL WRITE_CONTROL_REGISTER
      |      |    |  Z80:18cyc R800:5cyc
      |00007E|017E|  CD 5B 01
------+------+----+----------------------------------
   110|      |    |LD A, 0x80
      |      |    |  Z80:8cyc R800:2cyc
      |000081|0181|  3E 80
------+------+----+----------------------------------
   111|      |    |LD E, 9
      |      |    |  Z80:8cyc R800:2cyc
      |000083|0183|  1E 09
------+------+----+----------------------------------
   112|      |    |CALL WRITE_CONTROL_REGISTER
      |      |    |  Z80:18cyc R800:5cyc
      |000085|0185|  CD 5B 01
------+------+----+----------------------------------
   114|      |    |LD A, 0b00011111
      |      |    |  Z80:8cyc R800:2cyc
      |000088|0188|  3E 1F
------+------+----+----------------------------------
   115|      |    |LD E, 2
      |      |    |  Z80:8cyc R800:2cyc
      |00008A|018A|  1E 02
------+------+----+----------------------------------
   116|      |    |CALL WRITE_CONTROL_REGISTER
      |      |    |  Z80:18cyc R800:5cyc
      |00008C|018C|  CD 5B 01
------+------+----+----------------------------------
   117|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |00008F|018F|  C9
------+------+----+----------------------------------
   118|      |    |ENDSCOPE
      |      |    |  Exit scope: SCREEN5:
------+------+----+----------------------------------
<< label >>
BDOS ..................... 5 ( 0x5 )
LOOP ..................... 338 ( 0x152 )
SCREEN5 .................. 357 ( 0x165 )
START .................... 256 ( 0x100 )
VDP_PORT0 ................ 152 ( 0x98 )
VDP_PORT1 ................ 153 ( 0x99 )
VDP_PORT2 ................ 154 ( 0x9a )
VDP_PORT3 ................ 155 ( 0x9b )
WRITE_CONTROL_REGISTER ... 347 ( 0x15b )
_TERM0 ................... 0 ( 0x0 )
