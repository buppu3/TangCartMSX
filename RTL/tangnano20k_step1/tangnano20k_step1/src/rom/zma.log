Z80 Macro Assembler ZMA v1.0.18
=====================================================
Programmed by t.hara

  DEFS is DEFINE STRING (default).
  OUTPUT TYPE: BINARY

<< code >>
LINE# |OFFSET|ADDR|MNEMONIC
======+======+====+==================================
     7|      |    |UART := 0x10
      |      |    |  Global integer symbol [UART] = 16 (0x10)
------+------+----+----------------------------------
     9|      |    |ORG 0x0000
------+------+----+----------------------------------
    11|      |    |DI
      |      |    |  Z80:5cyc R800:2cyc
      |000000|0000|  F3
------+------+----+----------------------------------
    12|      |    |LD SP, 0x7FFE
      |      |    |  Z80:11cyc R800:3cyc
      |000001|0001|  31 FE 7F
------+------+----+----------------------------------
    13|      |    |LD HL, S_HELLO_WORLD
      |      |    |  Z80:11cyc R800:3cyc
      |000004|0004|  21 1F 00
------+------+----+----------------------------------
    14|      |    |CALL PUTS
      |      |    |  Z80:18cyc R800:5cyc
      |000007|0007|  CD 16 00
------+------+----+----------------------------------
    15|      |    |HALT
      |      |    |  Z80:5cyc R800:2cycAnd wait interrupt.
      |00000A|000A|  76
------+------+----+----------------------------------
    26|      |    |SCOPE PUTC
      |      |    |  Enter scope: PUTC:
------+------+----+----------------------------------
    27|      |    |PUTC ::
      |      |    |  global label [PUTC] address: 0x00000b
------+------+----+----------------------------------
    28|      |    |LD C, UART
      |      |    |  Z80:8cyc R800:2cyc
      |00000B|000B|  0E 10
------+------+----+----------------------------------
    29|      |    |WAIT_LOOP :
      |      |    |  label [PUTC:WAIT_LOOP] address: 0x00000d
------+------+----+----------------------------------
    30|      |    |IN B, [ C ]
      |      |    |  Z80:14cyc R800:10cyc/9cyc
      |00000D|000D|  ED 40
------+------+----+----------------------------------
    31|      |    |RR B
      |      |    |  Z80:10cyc R800:2cyc
      |00000F|000F|  CB 18
------+------+----+----------------------------------
    32|      |    |JR C, WAIT_LOOP
      |      |    |  Z80:13cyc/8cyc R800:3cyc/2cyc
      |000011|0011|  38 FA
------+------+----+----------------------------------
    33|      |    |OUT [ C ], A
      |      |    |  Z80:14cyc R800:10cyc/9cyc
      |000013|0013|  ED 79
------+------+----+----------------------------------
    34|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |000015|0015|  C9
------+------+----+----------------------------------
    35|      |    |ENDSCOPE
      |      |    |  Exit scope: PUTC:
------+------+----+----------------------------------
    46|      |    |SCOPE PUTS
      |      |    |  Enter scope: PUTS:
------+------+----+----------------------------------
    47|      |    |PUTS ::
      |      |    |  global label [PUTS] address: 0x000016
------+------+----+----------------------------------
    48|      |    |LD A, [ HL ]
      |      |    |  Z80:8cyc R800:4cyc
      |000016|0016|  7E
------+------+----+----------------------------------
    49|      |    |INC HL
      |      |    |  Z80:7cyc R800:1cyc
      |000017|0017|  23
------+------+----+----------------------------------
    50|      |    |OR A, A
      |      |    |  Z80:5cyc R800:1cyc
      |000018|0018|  B7
------+------+----+----------------------------------
    51|      |    |RET Z
      |      |    |  Z80:12cyc/6cyc R800:5cyc/1cyc
      |000019|0019|  C8
------+------+----+----------------------------------
    52|      |    |CALL PUTC
      |      |    |  Z80:18cyc R800:5cyc
      |00001A|001A|  CD 0B 00
------+------+----+----------------------------------
    53|      |    |JR PUTS
      |      |    |  Z80:13cyc R800:3cyc
      |00001D|001D|  18 F7
------+------+----+----------------------------------
    54|      |    |ENDSCOPE
      |      |    |  Exit scope: PUTS:
------+------+----+----------------------------------
    59|      |    |S_HELLO_WORLD ::
      |      |    |  global label [S_HELLO_WORLD] address: 0x00001f
------+------+----+----------------------------------
    60|      |    |DS "Hello, world!"
      |00001F|001F|  48 65 6C 6C 6F 2C 20 77
      |000027|0027|  6F 72 6C 64 21
------+------+----+----------------------------------
    61|      |    |DB 0x0D, 0x0A, 0
      |00002C|002C|  0D 0A 00
------+------+----+----------------------------------
<< label >>
PUTC ............. 11 ( 0xb )
PUTC:WAIT_LOOP ... 13 ( 0xd )
PUTS ............. 22 ( 0x16 )
S_HELLO_WORLD .... 31 ( 0x1f )
UART ............. 16 ( 0x10 )
